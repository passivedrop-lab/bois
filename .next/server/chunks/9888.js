exports.id=9888,exports.ids=[9888],exports.modules={93534:(e,s,t)=>{Promise.resolve().then(t.bind(t,79682)),Promise.resolve().then(t.bind(t,96968)),Promise.resolve().then(t.bind(t,76819)),Promise.resolve().then(t.t.bind(t,79404,23))},63425:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},79682:(e,s,t)=>{"use strict";t.d(s,{a:()=>c,default:()=>n});var a=t(10326),r=t(17577),i=t(42945),l=t(35047);let o=(0,r.createContext)({user:null,loading:!0,signOut:async()=>{}}),n=function({children:e}){let[s,t]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),m=(0,r.useMemo)(()=>(0,i.e)(),[]),d=(0,l.useRouter)(),x=async()=>{try{let{error:e}=await m.auth.signOut();if(e)throw e;t(null),d.push("/"),d.refresh()}catch(e){console.error("Error signing out:",e),d.push("/")}};return a.jsx(o.Provider,{value:{user:s,loading:n,signOut:x},children:e})},c=()=>(0,r.useContext)(o)},96968:(e,s,t)=>{"use strict";t.d(s,{default:()=>g});var a=t(10326),r=t(17577),i=t(90434),l=t(35047),o=t(42887),n=t(79635),c=t(88307),m=t(67427),d=t(57671),x=t(71810),h=t(94019),f=t(90748),u=t(79682),p=t(18298);function g(){let[e,s]=(0,r.useState)(!1),[t,g]=(0,r.useState)(!1),{user:b,signOut:j}=(0,u.a)(),w=(0,p.x)(e=>e.getItemCount());(0,l.usePathname)();let v=[{name:"Главная",href:"/"},{name:"Каталог",href:"/catalogue"},{name:"Услуги",href:"/services"},{name:"Доставка",href:"/livraison"},{name:"О нас",href:"/a-propos"},{name:"Контакты",href:"/contacts"}],N=[{name:"Строительная древесина",href:"/catalogue/bois-de-construction"},{name:"Пиломатериалы",href:"/catalogue/bois-sci\xe9"},{name:"Дрова",href:"/catalogue/bois-de-chauffage"},{name:"Древесина для сауны",href:"/catalogue/bois-sauna"},{name:"Декоративная древесина",href:"/catalogue/bois-decoratif"},{name:"Панели",href:"/catalogue/panneaux"},{name:"Древесина для наружных работ",href:"/catalogue/bois-exterieur"},{name:"Необработанная/промышленная древесина",href:"/catalogue/bois-brut-industriel"}];return(0,a.jsxs)("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:[a.jsx("div",{className:"bg-wood-900 text-white py-2",children:a.jsx("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsxs)("a",{href:"tel:+79991234567",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(o.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"+7 (999) 123-45-67"})]}),a.jsx("span",{className:"hidden sm:inline",children:"Доставка по всей России"})]}),a.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:b?(0,a.jsxs)(i.default,{href:"/profile",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(n.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden xs:inline text-xs sm:text-sm",children:"Мой профиль"})]}):(0,a.jsxs)(i.default,{href:"/login",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(n.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Вход / Регистрация"})]})})]})})}),a.jsx("nav",{className:"bg-white py-3 shadow-md",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-shrink-0",children:[a.jsx("div",{className:"bg-fire-600 text-white p-2 sm:p-3 rounded-lg flex-shrink-0",children:a.jsx("span",{className:"text-xl sm:text-2xl font-bold",children:"TS"})}),(0,a.jsxs)("div",{className:"min-w-0 hidden xs:block",children:[a.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-serif font-bold text-wood-900 truncate",children:"TsarstvoDereva"}),a.jsx("p",{className:"text-xs text-wood-600 hidden sm:block",children:"Качество и надежность"})]})]}),a.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:v.map(e=>a.jsx(i.default,{href:e.href,className:"text-wood-700 hover:text-fire-600 font-medium transition-colors",children:e.name},e.name))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsx("button",{className:"p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Поиск",children:a.jsx(c.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"})}),a.jsx(i.default,{href:"/favorites",className:"relative p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Избранное",children:a.jsx(m.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"})}),(0,a.jsxs)(i.default,{href:"/cart",className:"relative p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Корзина",children:[a.jsx(d.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"}),w>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-fire-600 text-white text-[10px] sm:text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:w>9?"9+":w})]}),b&&(0,a.jsxs)("div",{className:"relative hidden sm:block",children:[a.jsx("button",{onClick:()=>g(!t),className:"p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Мой профиль",children:a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-fire-500 to-fire-700 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-bold",children:b.email?.[0]?.toUpperCase()||"U"})}),t&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-2xl border border-wood-100 overflow-hidden z-50",children:[a.jsx(i.default,{href:"/profile",className:"block px-4 py-3 hover:bg-wood-50 transition text-wood-700",onClick:()=>g(!1),children:"Мой профиль"}),a.jsx(i.default,{href:"/profile/orders",className:"block px-4 py-3 hover:bg-wood-50 transition text-wood-700",onClick:()=>g(!1),children:"Мои заказы"}),(0,a.jsxs)("button",{onClick:async()=>{await j(),g(!1)},className:"w-full text-left px-4 py-3 hover:bg-wood-50 transition text-wood-700 flex items-center gap-2",children:[a.jsx(x.Z,{size:16}),"Выйти"]})]})]}),a.jsx("button",{onClick:()=>s(!e),className:"lg:hidden p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Меню",children:e?a.jsx(h.Z,{size:20,className:"sm:w-6 sm:h-6 text-wood-700"}):a.jsx(f.Z,{size:20,className:"sm:w-6 sm:h-6 text-wood-700"})})]})]})}),a.jsx("div",{className:"bg-gray-100 py-2",children:a.jsx("div",{className:"container mx-auto px-4 flex gap-4 overflow-x-auto",children:N.map(e=>a.jsx("a",{href:e.href,className:"text-sm text-gray-700 hover:text-fire-400 whitespace-nowrap",children:e.name},e.href))})}),e&&a.jsx("div",{className:"lg:hidden bg-white border-t border-wood-200",children:(0,a.jsxs)("nav",{className:"container mx-auto px-4 py-4 space-y-2",children:[v.map(e=>a.jsx(i.default,{href:e.href,className:"block py-2 text-wood-700 hover:text-fire-600 font-medium transition-colors",onClick:()=>s(!1),children:e.name},e.name)),(0,a.jsxs)("div",{className:"pt-4 border-t border-wood-200 mt-2",children:[a.jsx("p",{className:"text-sm font-semibold text-wood-900 mb-2",children:"Категории:"}),N.map(e=>a.jsx(i.default,{href:e.href,className:"block py-2 text-sm text-wood-600 hover:text-fire-600 transition-colors",onClick:()=>s(!1),children:e.name},e.name))]})]})})]})}},76819:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(10326),r=t(40381);function i(){return a.jsx(r.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#783410",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#ea580c",secondary:"#fff"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"}}}})}},18298:(e,s,t)=>{"use strict";t.d(s,{x:()=>l});var a=t(60114),r=t(85251);let i=(0,t(42945).e)(),l=(0,a.Ue)()((0,r.tJ)((e,s)=>({items:[],isSyncing:!1,addItem:async t=>{let a=s().items.find(e=>e.id===t.id)?s().items.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...s().items,{...t,quantity:1}];e({items:a});let{data:{user:r}}=await i.auth.getUser();if(r)try{let e=a.find(e=>e.id===t.id);if(e){let{error:s}=await i.from("user_cart").upsert({user_id:r.id,product_id:t.id,product_name:t.name,price:t.price,quantity:e.quantity},{onConflict:"user_id,product_id"});if(s)throw s}}catch(e){console.error("Error syncing cart to Supabase:",e)}},removeItem:async t=>{e({items:s().items.filter(e=>e.id!==t)});let{data:{user:a}}=await i.auth.getUser();if(a)try{let{error:e}=await i.from("user_cart").delete().eq("user_id",a.id).eq("product_id",t);if(e)throw e}catch(e){console.error("Error removing item from Supabase:",e)}},updateQuantity:async(t,a)=>{if(a<=0){await s().removeItem(t);return}e({items:s().items.map(e=>e.id===t?{...e,quantity:a}:e)});let{data:{user:r}}=await i.auth.getUser();if(r)try{let{error:e}=await i.from("user_cart").update({quantity:a}).eq("user_id",r.id).eq("product_id",t);if(e)throw e}catch(e){console.error("Error updating quantity in Supabase:",e)}},clearCart:async()=>{e({items:[]});let{data:{user:s}}=await i.auth.getUser();if(s)try{let{error:e}=await i.from("user_cart").delete().eq("user_id",s.id);if(e)throw e}catch(e){console.error("Error clearing cart from Supabase:",e)}},syncWithSupabase:async t=>{if(!s().isSyncing){e({isSyncing:!0});try{let a=s().items,{data:r,error:l}=await i.from("user_cart").select("*").eq("user_id",t);if(l)throw l;if(r&&r.length>0){let s=r.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:s})}else if(a.length>0)for(let e of a)await i.from("user_cart").upsert({user_id:t,product_id:e.id,product_name:e.name,price:e.price,quantity:e.quantity},{onConflict:"user_id,product_id"})}catch(e){console.error("Error syncing cart with Supabase:",e)}finally{e({isSyncing:!1})}}},loadFromSupabase:async s=>{try{let{data:t,error:a}=await i.from("user_cart").select("*").eq("user_id",s);if(a)throw a;if(t&&t.length>0){let s=t.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:s})}}catch(e){console.error("Error loading cart from Supabase:",e)}},getTotal:()=>s().items.reduce((e,s)=>e+s.price*s.quantity,0),getItemCount:()=>s().items.reduce((e,s)=>e+s.quantity,0)}),{name:"cart-storage",storage:(0,r.FL)(()=>localStorage)}))},42945:(e,s,t)=>{"use strict";t.d(s,{e:()=>r});var a=t(92817);function r(){let e="https://foyiurrbytmcwgspbyay.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZveWl1cnJieXRtY3dnc3BieWF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4NTk1MjgsImV4cCI6MjA4MzQzNTUyOH0.K1HzmpmPM-BU_aprU0xJjYpE5PajGjDEh6PjBM2O2ZM";if(!e||!s)throw Error("Missing Supabase environment variables. Please check your .env.local file.");return(0,a.createBrowserClient)(e,s)}},93428:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g,metadata:()=>p});var a=t(19510);t(67272);var r=t(68570);let i=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/Header.tsx#default`);var l=t(57371),o=t(92528),n=t(82749),c=t(10429),m=t(90071),d=t(97799),x=t(21319);function h(){return a.jsx("footer",{className:"bg-wood-900 text-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-10 md:py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx("div",{className:"bg-fire-600 text-white p-1.5 sm:p-2 rounded-lg",children:a.jsx("span",{className:"text-lg sm:text-xl font-bold",children:"TS"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-serif font-bold",children:"TsarstvoDereva"})]}),a.jsx("p",{className:"text-sm sm:text-base text-wood-300 mb-3 sm:mb-4",children:"TsarstvoDereva — премиальные пиломатериалы и лесопродукты с доставкой по всей России. Брус, доска, бревна, дрова, панели и декоративный лес высочайшего качества."}),(0,a.jsxs)("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Facebook",children:a.jsx(o.Z,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Instagram",children:a.jsx(n.Z,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Twitter",children:a.jsx(c.Z,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Контакты"}),(0,a.jsxs)("ul",{className:"space-y-2 sm:space-y-3 text-sm sm:text-base text-wood-300",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(m.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("span",{children:"Москва, ул. Лесная, д. 15"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(d.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("a",{href:"tel:+79991234567",className:"hover:text-fire-400 transition break-all",children:"+7 (999) 123-45-67"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(x.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("a",{href:"mailto:info@drovapremium.ru",className:"hover:text-fire-400 transition break-all",children:"info@drovapremium.ru"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Наши услуги"}),a.jsx("ul",{className:"space-y-2 text-sm sm:text-base text-wood-300",children:a.jsx("li",{children:a.jsx(l.default,{href:"/livraison",className:"hover:text-fire-400 transition",children:"Доставка дров"})})})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Информация"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm sm:text-base text-wood-300",children:[a.jsx("li",{children:a.jsx(l.default,{href:"/a-propos",className:"hover:text-fire-400 transition",children:"О компании"})}),a.jsx("li",{children:a.jsx(l.default,{href:"/legal",className:"hover:text-fire-400 transition",children:"Mentions l\xe9gales"})}),a.jsx("li",{children:a.jsx(l.default,{href:"/faq",className:"hover:text-fire-400 transition",children:"FAQ"})})]})]})]}),a.jsx("div",{className:"border-t border-wood-800 mt-6 sm:mt-8 pt-6 sm:pt-8 text-center text-wood-400 text-xs sm:text-sm",children:a.jsx("p",{children:"\xa9 2025 TsarstvoDereva. Все права защищены."})})]})})}let f=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/AuthProvider.tsx#default`);(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/AuthProvider.tsx#useAuth`);let u=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/Toaster.tsx#default`),p={title:"TsarstvoDereva - Качественный лес и пиломатериалы",description:"TsarstvoDereva — премиальные пиломатериалы: бревна, доска, брус, дрова, панели. Бесплатная доставка по России. Качество гарантировано.",keywords:"TsarstvoDereva, бревно, доска, брус, пиломатериалы, дрова, бревна, древесина, лес"};function g({children:e}){return a.jsx("html",{lang:"ru",children:a.jsx("body",{children:(0,a.jsxs)(f,{children:[a.jsx(i,{}),a.jsx("main",{className:"min-h-screen",children:e}),a.jsx(h,{}),a.jsx(u,{})]})})})}},67272:()=>{}};