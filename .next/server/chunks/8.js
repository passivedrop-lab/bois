exports.id=8,exports.ids=[8],exports.modules={3534:(e,s,t)=>{Promise.resolve().then(t.bind(t,9682)),Promise.resolve().then(t.bind(t,6968)),Promise.resolve().then(t.bind(t,6819)),Promise.resolve().then(t.t.bind(t,9404,23))},3425:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},9682:(e,s,t)=>{"use strict";t.d(s,{a:()=>c,default:()=>n});var a=t(326),r=t(7577),i=t(2945),o=t(5047);let l=(0,r.createContext)({user:null,loading:!0,signOut:async()=>{}}),n=function({children:e}){let[s,t]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),d=(0,r.useMemo)(()=>(0,i.e)(),[]),m=(0,o.useRouter)(),x=async()=>{try{let{error:e}=await d.auth.signOut();if(e)throw e;t(null),m.push("/"),m.refresh()}catch(e){console.error("Error signing out:",e),m.push("/")}};return a.jsx(l.Provider,{value:{user:s,loading:n,signOut:x},children:e})},c=()=>(0,r.useContext)(l)},6968:(e,s,t)=>{"use strict";t.d(s,{default:()=>g});var a=t(326),r=t(7577),i=t(434),o=t(5047),l=t(2887),n=t(9635),c=t(8307),d=t(7427),m=t(7671),x=t(1810),h=t(4019),f=t(748),u=t(9682),p=t(8298);function g(){let[e,s]=(0,r.useState)(!1),[t,g]=(0,r.useState)(!1),{user:b,signOut:w}=(0,u.a)(),j=(0,p.x)(e=>e.getItemCount());(0,o.usePathname)();let v=[{name:"Accueil",href:"/"},{name:"Catalogue",href:"/catalogue"},{name:"Services",href:"/services"},{name:"Livraison",href:"/livraison"},{name:"\xc0 propos",href:"/a-propos"},{name:"Contacts",href:"/contacts"}],N=[{name:"Bois de construction",href:"/catalogue/bois-de-construction"},{name:"Bois sci\xe9",href:"/catalogue/bois-sci\xe9"},{name:"Bois de chauffage",href:"/catalogue/bois-de-chauffage"},{name:"Bois sauna",href:"/catalogue/bois-sauna"},{name:"Bois d\xe9coratif",href:"/catalogue/bois-decoratif"},{name:"Panneaux",href:"/catalogue/panneaux"},{name:"Bois ext\xe9rieur",href:"/catalogue/bois-exterieur"},{name:"Bois brut / industriel",href:"/catalogue/bois-brut-industriel"}];return(0,a.jsxs)("header",{className:"bg-white shadow-lg sticky top-0 z-50",children:[a.jsx("div",{className:"bg-wood-900 text-white py-2",children:a.jsx("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2 sm:gap-0 text-xs sm:text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsxs)("a",{href:"tel:+79991234567",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(l.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"+7 (999) 123-45-67"})]}),a.jsx("span",{className:"hidden sm:inline",children:"Доставка по всей России"})]}),a.jsx("div",{className:"flex items-center gap-3 sm:gap-4",children:b?(0,a.jsxs)(i.default,{href:"/profile",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(n.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"hidden xs:inline text-xs sm:text-sm",children:"Мой профиль"})]}):(0,a.jsxs)(i.default,{href:"/login",className:"flex items-center gap-1.5 sm:gap-2 hover:text-fire-400 transition whitespace-nowrap",children:[a.jsx(n.Z,{size:14,className:"sm:w-4 sm:h-4"}),a.jsx("span",{className:"text-xs sm:text-sm",children:"Вход / Регистрация"})]})})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-3 sm:px-4 py-3 sm:py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[(0,a.jsxs)(i.default,{href:"/",className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-shrink-0",children:[a.jsx("div",{className:"bg-fire-600 text-white p-2 sm:p-3 rounded-lg flex-shrink-0",children:a.jsx("span",{className:"text-xl sm:text-2xl font-bold",children:"TS"})}),(0,a.jsxs)("div",{className:"min-w-0 hidden xs:block",children:[a.jsx("h1",{className:"text-lg sm:text-xl md:text-2xl font-serif font-bold text-wood-900 truncate",children:"TsarstvoDereva"}),a.jsx("p",{className:"text-xs text-wood-600 hidden sm:block",children:"Качество и надежность"})]})]}),a.jsx("nav",{className:"hidden lg:flex items-center gap-8",children:v.map(e=>a.jsx(i.default,{href:e.href,className:"text-wood-700 hover:text-fire-600 font-medium transition-colors",children:e.name},e.name))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsx("button",{className:"p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Поиск",children:a.jsx(c.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"})}),a.jsx(i.default,{href:"/favorites",className:"relative p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Избранное",children:a.jsx(d.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"})}),(0,a.jsxs)(i.default,{href:"/cart",className:"relative p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Корзина",children:[a.jsx(m.Z,{size:18,className:"sm:w-6 sm:h-6 text-wood-700"}),j>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-fire-600 text-white text-[10px] sm:text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:j>9?"9+":j})]}),b&&(0,a.jsxs)("div",{className:"relative hidden sm:block",children:[a.jsx("button",{onClick:()=>g(!t),className:"p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Мой профиль",children:a.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-fire-500 to-fire-700 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-bold",children:b.email?.[0]?.toUpperCase()||"U"})}),t&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-2xl border border-wood-100 overflow-hidden z-50",children:[a.jsx(i.default,{href:"/profile",className:"block px-4 py-3 hover:bg-wood-50 transition text-wood-700",onClick:()=>g(!1),children:"Мой профиль"}),a.jsx(i.default,{href:"/profile/orders",className:"block px-4 py-3 hover:bg-wood-50 transition text-wood-700",onClick:()=>g(!1),children:"Мои заказы"}),(0,a.jsxs)("button",{onClick:async()=>{await w(),g(!1)},className:"w-full text-left px-4 py-3 hover:bg-wood-50 transition text-wood-700 flex items-center gap-2",children:[a.jsx(x.Z,{size:16}),"Выйти"]})]})]}),a.jsx("button",{onClick:()=>s(!e),className:"lg:hidden p-1.5 sm:p-2 hover:bg-wood-100 rounded-lg transition","aria-label":"Меню",children:e?a.jsx(h.Z,{size:20,className:"sm:w-6 sm:h-6 text-wood-700"}):a.jsx(f.Z,{size:20,className:"sm:w-6 sm:h-6 text-wood-700"})})]})]}),a.jsx("div",{className:"hidden md:flex items-center justify-between gap-4 lg:gap-6 mt-3 sm:mt-4 pb-2 border-b border-wood-200 overflow-x-auto no-scrollbar",children:N.map(e=>a.jsx(i.default,{href:e.href,className:"text-[10px] lg:text-xs uppercase tracking-wider font-bold text-wood-600 hover:text-fire-600 transition-colors whitespace-nowrap",children:e.name},e.name))})]}),e&&a.jsx("div",{className:"lg:hidden bg-white border-t border-wood-200",children:(0,a.jsxs)("nav",{className:"container mx-auto px-4 py-4 space-y-2",children:[v.map(e=>a.jsx(i.default,{href:e.href,className:"block py-2 text-wood-700 hover:text-fire-600 font-medium transition-colors",onClick:()=>s(!1),children:e.name},e.name)),(0,a.jsxs)("div",{className:"pt-4 border-t border-wood-200 mt-2",children:[a.jsx("p",{className:"text-sm font-semibold text-wood-900 mb-2",children:"Категории:"}),N.map(e=>a.jsx(i.default,{href:e.href,className:"block py-2 text-sm text-wood-600 hover:text-fire-600 transition-colors",onClick:()=>s(!1),children:e.name},e.name))]})]})})]})}},6819:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var a=t(326),r=t(381);function i(){return a.jsx(r.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#783410",borderRadius:"12px",padding:"16px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)"},success:{iconTheme:{primary:"#ea580c",secondary:"#fff"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"}}}})}},8298:(e,s,t)=>{"use strict";t.d(s,{x:()=>o});var a=t(114),r=t(5251);let i=(0,t(2945).e)(),o=(0,a.Ue)()((0,r.tJ)((e,s)=>({items:[],isSyncing:!1,addItem:async t=>{let a=s().items.find(e=>e.id===t.id)?s().items.map(e=>e.id===t.id?{...e,quantity:e.quantity+1}:e):[...s().items,{...t,quantity:1}];e({items:a});let{data:{user:r}}=await i.auth.getUser();if(r)try{let e=a.find(e=>e.id===t.id);if(e){let{error:s}=await i.from("user_cart").upsert({user_id:r.id,product_id:t.id,product_name:t.name,price:t.price,quantity:e.quantity},{onConflict:"user_id,product_id"});if(s)throw s}}catch(e){console.error("Error syncing cart to Supabase:",e)}},removeItem:async t=>{e({items:s().items.filter(e=>e.id!==t)});let{data:{user:a}}=await i.auth.getUser();if(a)try{let{error:e}=await i.from("user_cart").delete().eq("user_id",a.id).eq("product_id",t);if(e)throw e}catch(e){console.error("Error removing item from Supabase:",e)}},updateQuantity:async(t,a)=>{if(a<=0){await s().removeItem(t);return}e({items:s().items.map(e=>e.id===t?{...e,quantity:a}:e)});let{data:{user:r}}=await i.auth.getUser();if(r)try{let{error:e}=await i.from("user_cart").update({quantity:a}).eq("user_id",r.id).eq("product_id",t);if(e)throw e}catch(e){console.error("Error updating quantity in Supabase:",e)}},clearCart:async()=>{e({items:[]});let{data:{user:s}}=await i.auth.getUser();if(s)try{let{error:e}=await i.from("user_cart").delete().eq("user_id",s.id);if(e)throw e}catch(e){console.error("Error clearing cart from Supabase:",e)}},syncWithSupabase:async t=>{if(!s().isSyncing){e({isSyncing:!0});try{let a=s().items,{data:r,error:o}=await i.from("user_cart").select("*").eq("user_id",t);if(o)throw o;if(r&&r.length>0){let s=r.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:s})}else if(a.length>0)for(let e of a)await i.from("user_cart").upsert({user_id:t,product_id:e.id,product_name:e.name,price:e.price,quantity:e.quantity},{onConflict:"user_id,product_id"})}catch(e){console.error("Error syncing cart with Supabase:",e)}finally{e({isSyncing:!1})}}},loadFromSupabase:async s=>{try{let{data:t,error:a}=await i.from("user_cart").select("*").eq("user_id",s);if(a)throw a;if(t&&t.length>0){let s=t.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:s})}}catch(e){console.error("Error loading cart from Supabase:",e)}},getTotal:()=>s().items.reduce((e,s)=>e+s.price*s.quantity,0),getItemCount:()=>s().items.reduce((e,s)=>e+s.quantity,0)}),{name:"cart-storage",storage:(0,r.FL)(()=>localStorage)}))},2945:(e,s,t)=>{"use strict";t.d(s,{e:()=>r});var a=t(2817);function r(){let e="https://yiygigafhnlwzdsbzdsj.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpeWdpZ2FmaG5sd3pkc2J6ZHNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDYwMjgsImV4cCI6MjA4MzI4MjAyOH0.-f7tLNsGdofpwwtphm0ouRcIj02Ir2RiDzgyvskPs68";if(!e||!s)throw Error("Missing Supabase environment variables. Please check your .env.local file.");return(0,a.createBrowserClient)(e,s)}},3428:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g,metadata:()=>p});var a=t(9510);t(7272);var r=t(8570);let i=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/Header.tsx#default`);var o=t(7371),l=t(2528),n=t(2749),c=t(429),d=t(71),m=t(7799),x=t(1319);function h(){return a.jsx("footer",{className:"bg-wood-900 text-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 py-8 sm:py-10 md:py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[a.jsx("div",{className:"bg-fire-600 text-white p-1.5 sm:p-2 rounded-lg",children:a.jsx("span",{className:"text-lg sm:text-xl font-bold",children:"TS"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-serif font-bold",children:"TsarstvoDereva"})]}),a.jsx("p",{className:"text-sm sm:text-base text-wood-300 mb-3 sm:mb-4",children:"TsarstvoDereva — премиальные пиломатериалы и лесопродукты с доставкой по всей России. Брус, доска, бревна, дрова, панели и декоративный лес высочайшего качества."}),(0,a.jsxs)("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Facebook",children:a.jsx(l.Z,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Instagram",children:a.jsx(n.Z,{size:18,className:"sm:w-5 sm:h-5"})}),a.jsx("a",{href:"#",className:"hover:text-fire-400 transition","aria-label":"Twitter",children:a.jsx(c.Z,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Контакты"}),(0,a.jsxs)("ul",{className:"space-y-2 sm:space-y-3 text-sm sm:text-base text-wood-300",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(d.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("span",{children:"Москва, ул. Лесная, д. 15"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(m.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("a",{href:"tel:+79991234567",className:"hover:text-fire-400 transition break-all",children:"+7 (999) 123-45-67"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2",children:[a.jsx(x.Z,{size:16,className:"text-fire-400 mt-0.5 flex-shrink-0 sm:w-4.5 sm:h-4.5"}),a.jsx("a",{href:"mailto:info@drovapremium.ru",className:"hover:text-fire-400 transition break-all",children:"info@drovapremium.ru"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Наши услуги"}),a.jsx("ul",{className:"space-y-2 text-sm sm:text-base text-wood-300",children:a.jsx("li",{children:a.jsx(o.default,{href:"/livraison",className:"hover:text-fire-400 transition",children:"Доставка дров"})})})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-3 sm:mb-4",children:"Информация"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm sm:text-base text-wood-300",children:[a.jsx("li",{children:a.jsx(o.default,{href:"/a-propos",className:"hover:text-fire-400 transition",children:"О компании"})}),a.jsx("li",{children:a.jsx(o.default,{href:"/legal",className:"hover:text-fire-400 transition",children:"Mentions l\xe9gales"})}),a.jsx("li",{children:a.jsx(o.default,{href:"/faq",className:"hover:text-fire-400 transition",children:"FAQ"})})]})]})]}),a.jsx("div",{className:"border-t border-wood-800 mt-6 sm:mt-8 pt-6 sm:pt-8 text-center text-wood-400 text-xs sm:text-sm",children:a.jsx("p",{children:"\xa9 2025 TsarstvoDereva. Все права защищены."})})]})})}let f=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/AuthProvider.tsx#default`);(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/AuthProvider.tsx#useAuth`);let u=(0,r.createProxy)(String.raw`/home/deo/Desktop/bois/components/Toaster.tsx#default`),p={title:"TsarstvoDereva - Качественный лес и пиломатериалы",description:"TsarstvoDereva — премиальные пиломатериалы: бревна, доска, брус, дрова, панели. Бесплатная доставка по России. Качество гарантировано.",keywords:"TsarstvoDereva, бревно, доска, брус, пиломатериалы, дрова, бревна, древесина, лес"};function g({children:e}){return a.jsx("html",{lang:"ru",children:a.jsx("body",{children:(0,a.jsxs)(f,{children:[a.jsx(i,{}),a.jsx("main",{className:"min-h-screen",children:e}),a.jsx(h,{}),a.jsx(u,{})]})})})}},7272:()=>{}};