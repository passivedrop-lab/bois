(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1928:function(e,t,i){Promise.resolve().then(i.bind(i,870)),Promise.resolve().then(i.bind(i,8905)),Promise.resolve().then(i.bind(i,9375)),Promise.resolve().then(i.bind(i,16)),Promise.resolve().then(i.bind(i,9207))},870:function(e,t,i){"use strict";i.d(t,{default:function(){return p}});var s=i(7437),a=i(7648),r=i(3287),l=i(3057),o=i(4794),n=i(6399),c=i(9525),m=i(2805),d=i(340),x=i(8906);let u=[{name:"Строительный лес",description:"Брус, бревно и конструкционные материалы",href:"/catalogue/bois-de-construction",icon:l.Z,color:"from-wood-700 to-wood-900"},{name:"Пиломатериалы",description:"Доска обрезная, брусок и погонаж",href:"/catalogue/bois-sci\xe9",icon:o.Z,color:"from-orange-700 to-orange-900"},{name:"Дрова и Биотопливо",description:"Колотые дрова, пеллеты и брикеты",href:"/catalogue/bois-de-chauffage",icon:n.Z,color:"from-fire-600 to-fire-800"},{name:"Для бани и сауны",description:"Вагонка, пологи и отделочные материалы",href:"/catalogue/bois-sauna",icon:c.Z,color:"from-amber-600 to-amber-800"},{name:"Декоративная отделка",description:"Планкен, имитация бруса и декор",href:"/catalogue/bois-decoratif",icon:m.Z,color:"from-stone-600 to-stone-800"},{name:"Панели и щиты",description:"Мебельные щиты, фанера и плиты",href:"/catalogue/panneaux",icon:o.Z,color:"from-brown-600 to-brown-800"},{name:"Экстерьерные системы",description:"Террасная доска и фасадные решения",href:"/catalogue/bois-exterieur",icon:d.Z,color:"from-emerald-700 to-emerald-900"},{name:"Техническое дерево",description:"Брус для опалубки и промышленные заготовки",href:"/catalogue/bois-brut-industriel",icon:x.Z,color:"from-slate-700 to-slate-900"}];function p(){return(0,s.jsx)("section",{className:"py-12 sm:py-16 md:py-20 bg-white",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[(0,s.jsx)("h2",{className:"section-title text-3xl sm:text-4xl md:text-5xl lg:text-6xl",children:"Наши категории"}),(0,s.jsx)("p",{className:"section-subtitle text-base sm:text-lg md:text-xl px-4",children:"Широкий ассортимент продукции для отопления вашего дома"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:u.map((e,t)=>{let i=e.icon;return(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*t},children:(0,s.jsx)(a.default,{href:e.href,children:(0,s.jsxs)("div",{className:"card group cursor-pointer h-full",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br ".concat(e.color," p-6 sm:p-8 text-white relative overflow-hidden"),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/20 transition"}),(0,s.jsx)(i,{size:40,className:"sm:w-12 sm:h-12 relative z-10 mb-3 sm:mb-4"}),(0,s.jsx)("h3",{className:"text-xl sm:text-2xl font-bold relative z-10 mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-white/90 relative z-10",children:e.description}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-24 h-24 sm:w-32 sm:h-32 bg-white/10 rounded-full -mr-12 sm:-mr-16 -mb-12 sm:-mb-16"})]}),(0,s.jsx)("div",{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"text-sm sm:text-base text-fire-600 font-semibold group-hover:translate-x-2 transition-transform inline-flex items-center gap-2",children:["Смотреть товары",(0,s.jsx)("span",{className:"text-lg sm:text-xl",children:"→"})]})})]})})},e.name)})})]})})}},8905:function(e,t,i){"use strict";i.d(t,{default:function(){return g}});var s=i(7437),a=i(3145),r=i(3287),l=i(7648),o=i(8997),n=i(6595),c=i(6275),m=i(7008),d=i(9625),x=i(6885);let u=(0,i(970).e)(),p=(0,d.Ue)()((0,x.tJ)((e,t)=>({items:[],isSyncing:!1,addFavorite:async i=>{if(!t().isFavorite(i.id)){e({items:[...t().items,i]});let{data:{user:s}}=await u.auth.getUser();if(s)try{let{error:e}=await u.from("user_favorites").upsert({user_id:s.id,product_id:i.id,product_name:i.name,price:i.price},{onConflict:"user_id,product_id"});if(e)throw e}catch(e){console.error("Error syncing favorite to Supabase:",e)}}},removeFavorite:async i=>{e({items:t().items.filter(e=>e.id!==i)});let{data:{user:s}}=await u.auth.getUser();if(s)try{let{error:e}=await u.from("user_favorites").delete().eq("user_id",s.id).eq("product_id",i);if(e)throw e}catch(e){console.error("Error removing favorite from Supabase:",e)}},isFavorite:e=>t().items.some(t=>t.id===e),toggleFavorite:async e=>{t().isFavorite(e.id)?await t().removeFavorite(e.id):await t().addFavorite(e)},syncWithSupabase:async i=>{if(!t().isSyncing){e({isSyncing:!0});try{let s=t().items,{data:a,error:r}=await u.from("user_favorites").select("*").eq("user_id",i);if(r)throw r;if(a&&a.length>0){let t=a.map(e=>({id:e.product_id,name:e.product_name,price:e.price}));e({items:t})}else if(s.length>0)for(let e of s)await u.from("user_favorites").upsert({user_id:i,product_id:e.id,product_name:e.name,price:e.price},{onConflict:"user_id,product_id"})}catch(e){console.error("Error syncing favorites with Supabase:",e)}finally{e({isSyncing:!1})}}},loadFromSupabase:async t=>{try{let{data:i,error:s}=await u.from("user_favorites").select("*").eq("user_id",t);if(s)throw s;if(i&&i.length>0){let t=i.map(e=>({id:e.product_id,name:e.product_name,price:e.price}));e({items:t})}}catch(e){console.error("Error loading favorites from Supabase:",e)}}}),{name:"favorites-storage",storage:(0,x.FL)(()=>localStorage)}));var h=i(9064);let f=[{id:1,name:"Дрова дубовые 30 см - 3,1 стера",price:4510,originalPrice:null,image:"/images-product/dub-30-3.1.jpg",rating:4.8,reviews:124,badge:"Хит продаж"},{id:2,name:"Дрова 25 см - 2,60 стера в упаковке",price:4300,originalPrice:null,image:"/images-product/drova-25-2.6.jpg",rating:4.9,reviews:89,badge:null},{id:3,name:"Дрова 30 см - 2,24 стера в упаковке",price:3980,originalPrice:null,image:"/images-product/drova-30-2.24.jpg",rating:4.7,reviews:156,badge:null},{id:4,name:"Палета 1 стер дров - готово к использованию",price:1600,originalPrice:null,image:"/images-product/paleta-1-ster.jpg",rating:4.9,reviews:203,badge:"Популярное"},{id:5,name:"Дрова навалом 1м\xb3",price:890,originalPrice:null,image:"/images-product/drova-navalom-1m3.jpg",rating:4.6,reviews:78,badge:null},{id:6,name:"Пеллеты премиум ENERBIO - 66 мешков 990кг",price:3950,originalPrice:4500,image:"/images-product/pellets-enerbio-990kg.jpg",rating:4.8,reviews:145,badge:"Скидка"}];function g(){let e=(0,m.x)(),t=p(),i=async t=>{await e.addItem({id:t.id,name:t.name,price:t.price}),h.ZP.success("Добавлено в корзину")},d=async e=>{let i=t.isFavorite(e.id);await t.toggleFavorite({id:e.id,name:e.name,price:e.price}),h.ZP.success(i?"Удалено из избранного":"Добавлено в избранное")};return(0,s.jsx)("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-b from-wood-50 to-white",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[(0,s.jsx)("h2",{className:"section-title text-3xl sm:text-4xl md:text-5xl lg:text-6xl",children:"Популярные товары"}),(0,s.jsx)("p",{className:"section-subtitle text-base sm:text-lg md:text-xl px-4",children:"Выберите лучшее для вашего дома из нашего каталога"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:f.map((e,l)=>(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*l},children:(0,s.jsxs)("div",{className:"card group",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden bg-wood-100",children:[e.badge&&(0,s.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,s.jsx)("span",{className:"bg-fire-600 text-white px-3 py-1 rounded-full text-sm font-semibold",children:e.badge})}),(0,s.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,s.jsx)("button",{onClick:()=>d(e),className:"p-2 bg-white/90 hover:bg-white rounded-full transition",children:(0,s.jsx)(o.Z,{size:20,className:t.isFavorite(e.id)?"text-red-500 fill-red-500":"text-wood-600"})})}),(0,s.jsx)("div",{className:"aspect-square flex items-center justify-center bg-wood-100",children:(0,s.jsx)(a.default,{src:e.image,alt:e.name,width:600,height:600,sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",className:"object-cover w-full h-full",priority:0===l})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition"})]}),(0,s.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((t,i)=>(0,s.jsx)(n.Z,{size:12,className:"sm:w-3.5 sm:h-3.5 ".concat(i<Math.floor(e.rating)?"text-fire-500 fill-fire-500":"text-wood-300")},i))}),(0,s.jsxs)("span",{className:"text-xs sm:text-sm text-wood-600",children:["(",e.reviews,")"]})]}),(0,s.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-wood-900 mb-2 sm:mb-3 line-clamp-2 min-h-[3rem]",children:e.name}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:(0,s.jsx)("div",{children:e.originalPrice?(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,s.jsxs)("span",{className:"text-wood-400 line-through text-xs sm:text-sm",children:[e.originalPrice.toLocaleString("ru-RU")," ₽"]}),(0,s.jsxs)("span",{className:"text-xl sm:text-2xl font-bold text-fire-600",children:[e.price.toLocaleString("ru-RU")," ₽"]})]}):(0,s.jsxs)("span",{className:"text-xl sm:text-2xl font-bold text-wood-900",children:[e.price.toLocaleString("ru-RU")," ₽"]})})}),(0,s.jsxs)("button",{onClick:()=>i(e),className:"w-full btn-primary flex items-center justify-center gap-2 text-sm sm:text-base py-2.5 sm:py-3",children:[(0,s.jsx)(c.Z,{size:18,className:"sm:w-5 sm:h-5"}),"В корзину"]})]})]})},e.id))}),(0,s.jsx)("div",{className:"text-center px-4",children:(0,s.jsx)(l.default,{href:"/catalogue",className:"btn-outline text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 inline-block",children:"Смотреть все товары"})})]})})}},9375:function(e,t,i){"use strict";i.d(t,{default:function(){return m}});var s=i(7437),a=i(3287),r=i(3327),l=i(340),o=i(5471),n=i(8906);let c=[{icon:r.Z,title:"Лучшее качество",description:"Наши дрова проходят строгий контроль качества"},{icon:l.Z,title:"Быстрая доставка",description:"Доставка в течение 48 часов по всей России"},{icon:o.Z,title:"Поддержка 24/7",description:"Свяжитесь с нами в любое время суток"},{icon:n.Z,title:"Гарантия качества",description:"100% гарантия на всю нашу продукцию"}];function m(){return(0,s.jsx)("section",{className:"py-12 sm:py-16 md:py-20 bg-wood-900 text-white",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",children:[(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-serif font-bold mb-3 sm:mb-4 px-4",children:"Почему выбирают нас"}),(0,s.jsx)("p",{className:"text-base sm:text-lg text-wood-300 max-w-2xl mx-auto px-4",children:"Мы заботимся о вашем комфорте и предлагаем только лучшее"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:c.map((e,t)=>{let i=e.icon;return(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1*t},className:"text-center px-4",children:[(0,s.jsx)("div",{className:"bg-fire-600/20 rounded-full w-16 h-16 sm:w-20 sm:h-20 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:(0,s.jsx)(i,{size:32,className:"sm:w-10 sm:h-10 text-fire-400"})}),(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-wood-300",children:e.description})]},e.title)})})]})})}},16:function(e,t,i){"use strict";i.d(t,{default:function(){return n}});var s=i(7437),a=i(3287),r=i(7648),l=i(6399),o=i(6858);function n(){return(0,s.jsxs)("section",{className:"relative min-h-[70vh] sm:min-h-[80vh] md:min-h-[90vh] flex items-center justify-center overflow-hidden bg-gradient-to-br from-wood-900 via-wood-800 to-fire-900",children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,s.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")"}})}),(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 relative z-10 py-12 sm:py-16 md:py-20",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,s.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,s.jsx)("div",{className:"bg-fire-500/20 backdrop-blur-sm rounded-full p-3 sm:p-4",children:(0,s.jsx)(l.Z,{size:48,className:"sm:w-16 sm:h-16 text-fire-400"})})}),(0,s.jsxs)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-serif font-bold text-white mb-4 sm:mb-6 leading-tight px-2",children:["Качественный лес",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-fire-400",children:"для любых проектов"})]}),(0,s.jsx)("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-wood-200 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Премиальные пиломатериалы высочайшего качества: брус, доска, бревна, дрова, панели и декоративные решения. Доставка по всей России. Гарантия качества и профессионализм."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:[(0,s.jsxs)(r.default,{href:"/catalogue",className:"btn-primary text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 inline-flex items-center justify-center gap-2",children:["Каталог товаров",(0,s.jsx)(o.Z,{size:18,className:"sm:w-5 sm:h-5"})]}),(0,s.jsx)(r.default,{href:"/a-propos",className:"btn-outline text-base sm:text-lg px-6 sm:px-8 py-3 sm:py-4 border-white text-white hover:bg-white hover:text-wood-900 inline-flex items-center justify-center",children:"О компании"})]})]}),(0,s.jsxs)(a.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"grid grid-cols-3 gap-4 sm:gap-6 md:gap-8 mt-12 sm:mt-16 pt-6 sm:pt-8 border-t border-white/20 px-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-fire-400 mb-1 sm:mb-2",children:"10+"}),(0,s.jsx)("div",{className:"text-sm sm:text-base text-wood-200",children:"Лет опыта"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-fire-400 mb-1 sm:mb-2",children:"50K+"}),(0,s.jsx)("div",{className:"text-sm sm:text-base text-wood-200",children:"Довольных клиентов"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-fire-400 mb-1 sm:mb-2",children:"24/7"}),(0,s.jsx)("div",{className:"text-sm sm:text-base text-wood-200",children:"Доставка"})]})]})]})}),(0,s.jsx)("div",{className:"absolute bottom-4 sm:bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce hidden sm:block",children:(0,s.jsx)("div",{className:"w-5 h-8 sm:w-6 sm:h-10 border-2 border-white/30 rounded-full flex justify-center",children:(0,s.jsx)("div",{className:"w-1 h-2 sm:h-3 bg-white/50 rounded-full mt-1.5 sm:mt-2"})})})]})}},9207:function(e,t,i){"use strict";i.d(t,{default:function(){return n}});var s=i(7437),a=i(2265),r=i(3287),l=i(9345),o=i(4743);function n(){let[e,t]=(0,a.useState)("");return(0,s.jsx)("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-br from-fire-600 to-fire-800 text-white",children:(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6",children:(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-2xl mx-auto text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4 sm:mb-6",children:(0,s.jsx)("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-3 sm:p-4",children:(0,s.jsx)(l.Z,{size:40,className:"sm:w-12 sm:h-12"})})}),(0,s.jsx)("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-serif font-bold mb-3 sm:mb-4 px-4",children:"Подпишитесь на рассылку"}),(0,s.jsx)("p",{className:"text-base sm:text-lg md:text-xl text-fire-100 mb-6 sm:mb-8 px-4",children:"Получайте специальные предложения и новости о наших продуктах"}),(0,s.jsxs)("form",{onSubmit:i=>{i.preventDefault(),console.log("Subscribe:",e),t("")},className:"flex flex-col sm:flex-row gap-3 sm:gap-4 max-w-md mx-auto px-4",children:[(0,s.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Ваш email",required:!0,className:"flex-1 px-4 sm:px-6 py-3 sm:py-4 rounded-lg text-wood-900 placeholder-wood-500 focus:outline-none focus:ring-2 focus:ring-white text-sm sm:text-base"}),(0,s.jsxs)("button",{type:"submit",className:"bg-white text-fire-600 font-semibold px-6 sm:px-8 py-3 sm:py-4 rounded-lg hover:bg-fire-50 transition flex items-center justify-center gap-2 text-sm sm:text-base",children:[(0,s.jsx)(o.Z,{size:18,className:"sm:w-5 sm:h-5"}),"Подписаться"]})]})]})})})}},7008:function(e,t,i){"use strict";i.d(t,{x:function(){return l}});var s=i(9625),a=i(6885);let r=(0,i(970).e)(),l=(0,s.Ue)()((0,a.tJ)((e,t)=>({items:[],isSyncing:!1,addItem:async i=>{let s=t().items.find(e=>e.id===i.id)?t().items.map(e=>e.id===i.id?{...e,quantity:e.quantity+1}:e):[...t().items,{...i,quantity:1}];e({items:s});let{data:{user:a}}=await r.auth.getUser();if(a)try{let e=s.find(e=>e.id===i.id);if(e){let{error:t}=await r.from("user_cart").upsert({user_id:a.id,product_id:i.id,product_name:i.name,price:i.price,quantity:e.quantity},{onConflict:"user_id,product_id"});if(t)throw t}}catch(e){console.error("Error syncing cart to Supabase:",e)}},removeItem:async i=>{e({items:t().items.filter(e=>e.id!==i)});let{data:{user:s}}=await r.auth.getUser();if(s)try{let{error:e}=await r.from("user_cart").delete().eq("user_id",s.id).eq("product_id",i);if(e)throw e}catch(e){console.error("Error removing item from Supabase:",e)}},updateQuantity:async(i,s)=>{if(s<=0){await t().removeItem(i);return}e({items:t().items.map(e=>e.id===i?{...e,quantity:s}:e)});let{data:{user:a}}=await r.auth.getUser();if(a)try{let{error:e}=await r.from("user_cart").update({quantity:s}).eq("user_id",a.id).eq("product_id",i);if(e)throw e}catch(e){console.error("Error updating quantity in Supabase:",e)}},clearCart:async()=>{e({items:[]});let{data:{user:t}}=await r.auth.getUser();if(t)try{let{error:e}=await r.from("user_cart").delete().eq("user_id",t.id);if(e)throw e}catch(e){console.error("Error clearing cart from Supabase:",e)}},syncWithSupabase:async i=>{if(!t().isSyncing){e({isSyncing:!0});try{let s=t().items,{data:a,error:l}=await r.from("user_cart").select("*").eq("user_id",i);if(l)throw l;if(a&&a.length>0){let t=a.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:t})}else if(s.length>0)for(let e of s)await r.from("user_cart").upsert({user_id:i,product_id:e.id,product_name:e.name,price:e.price,quantity:e.quantity},{onConflict:"user_id,product_id"})}catch(e){console.error("Error syncing cart with Supabase:",e)}finally{e({isSyncing:!1})}}},loadFromSupabase:async t=>{try{let{data:i,error:s}=await r.from("user_cart").select("*").eq("user_id",t);if(s)throw s;if(i&&i.length>0){let t=i.map(e=>({id:e.product_id,name:e.product_name,price:e.price,quantity:e.quantity}));e({items:t})}}catch(e){console.error("Error loading cart from Supabase:",e)}},getTotal:()=>t().items.reduce((e,t)=>e+t.price*t.quantity,0),getItemCount:()=>t().items.reduce((e,t)=>e+t.quantity,0)}),{name:"cart-storage",storage:(0,a.FL)(()=>localStorage)}))},970:function(e,t,i){"use strict";i.d(t,{e:function(){return a}});var s=i(2990);function a(){let e="https://yiygigafhnlwzdsbzdsj.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlpeWdpZ2FmaG5sd3pkc2J6ZHNqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3MDYwMjgsImV4cCI6MjA4MzI4MjAyOH0.-f7tLNsGdofpwwtphm0ouRcIj02Ir2RiDzgyvskPs68";if(!e||!t)throw Error("Missing Supabase environment variables. Please check your .env.local file.");return(0,s.createBrowserClient)(e,t)}}},function(e){e.O(0,[451,53,528,629,971,117,744],function(){return e(e.s=1928)}),_N_E=e.O()}]);