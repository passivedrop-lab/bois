(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{3880:function(e,s,t){Promise.resolve().then(t.bind(t,1146))},1146:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var r=t(7437),l=t(2265),n=t(7648),i=t(9763);let a=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,i.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var o=t(5302);function c(){let[e,s]=(0,l.useState)(null),[t,i]=(0,l.useState)(!1),[c,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(""),p=async()=>{if(e){m(!0),u("");try{let s=new FormData;s.append("file",e),s.append("orderId","003"),s.append("customerEmail","customer@example.com");let t=await fetch("/api/receipts/upload",{method:"POST",body:s});if(!t.ok)throw Error("Erreur lors de l'upload du re\xe7u");let r=await t.json();console.log("Re\xe7u envoy\xe9 \xe0 l'admin:",r),i(!0),setTimeout(()=>{window.location.href="/profile/orders"},3e3)}catch(e){u("Erreur lors du t\xe9l\xe9versement. Veuillez r\xe9essayer."),console.error(e)}finally{m(!1)}}};return(0,r.jsx)("div",{className:"py-12 sm:py-16 md:py-20",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-wood-900 mb-2",children:"T\xe9l\xe9versez votre re\xe7u"}),(0,r.jsx)("p",{className:"text-wood-600 mb-12",children:"Derni\xe8re \xe9tape pour valider votre commande"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:t?(0,r.jsxs)("div",{className:"bg-green-50 border-2 border-green-300 rounded-lg p-12 text-center",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"bg-green-100 rounded-full p-4",children:(0,r.jsx)(o.Z,{size:64,className:"text-green-600"})})}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-green-900 mb-4",children:"T\xe9l\xe9versement r\xe9ussi!"}),(0,r.jsx)("p",{className:"text-green-800 text-lg mb-8",children:"Votre re\xe7u a \xe9t\xe9 t\xe9l\xe9vers\xe9 avec succ\xe8s. Nous allons maintenant v\xe9rifier votre paiement."}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 mb-8",children:[(0,r.jsx)("h3",{className:"font-semibold text-wood-900 mb-4",children:"Prochaines \xe9tapes:"}),(0,r.jsxs)("ol",{className:"text-left text-wood-700 space-y-3",children:[(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold",children:"1"}),(0,r.jsx)("span",{children:"Notre \xe9quipe examinera votre paiement (2-4 heures)"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold",children:"2"}),(0,r.jsx)("span",{children:"Vous recevrez une confirmation par email"})]}),(0,r.jsxs)("li",{className:"flex items-start gap-3",children:[(0,r.jsx)("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold",children:"3"}),(0,r.jsx)("span",{children:"Votre commande sera pr\xe9par\xe9e et exp\xe9di\xe9e"})]})]})]}),(0,r.jsx)("p",{className:"text-wood-600 text-sm mb-6",children:"Redirection vers votre historique de commandes dans 3 secondes..."}),(0,r.jsx)(n.default,{href:"/profile/orders",className:"inline-block bg-fire-600 text-white px-8 py-3 rounded-lg hover:bg-fire-700 transition font-semibold",children:"Voir mes commandes"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-wood-900 mb-6",children:"T\xe9l\xe9versez votre preuve de paiement"}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[(0,r.jsxs)("h3",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[(0,r.jsx)(a,{size:20}),"Que t\xe9l\xe9verser?"]}),(0,r.jsxs)("ul",{className:"text-blue-900 text-sm space-y-2 list-disc list-inside",children:[(0,r.jsx)("li",{children:"Une capture d'\xe9cran du re\xe7u de virement bancaire"}),(0,r.jsx)("li",{children:"Ou un PDF du re\xe7u re\xe7u par email de votre banque"}),(0,r.jsx)("li",{children:"Le re\xe7u doit montrer clairement: montant, b\xe9n\xe9ficiaire, date et heure"})]})]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-fire-300 rounded-lg p-12 text-center bg-fire-50 mb-6 cursor-pointer hover:bg-fire-100 transition",onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();let t=e.dataTransfer.files;t.length>0&&s(t[0])},onClick:()=>{var e;return null===(e=document.getElementById("file-input"))||void 0===e?void 0:e.click()},children:[(0,r.jsx)(d,{size:48,className:"mx-auto mb-4 text-fire-600"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-wood-900 mb-2",children:"Glissez votre fichier ici ou cliquez pour parcourir"}),(0,r.jsx)("p",{className:"text-sm text-wood-600",children:"Formats accept\xe9s: PNG, JPG, PDF (Max 10 Mo)"}),(0,r.jsx)("input",{id:"file-input",type:"file",accept:"image/png,image/jpeg,application/pdf",onChange:e=>{e.target.files&&e.target.files[0]&&(s(e.target.files[0]),u(""))},className:"hidden"})]}),e&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-300 rounded-lg p-4 mb-6 flex items-center gap-3",children:[(0,r.jsx)(o.Z,{size:24,className:"text-green-600"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold text-green-900",children:"Fichier s\xe9lectionn\xe9:"}),(0,r.jsx)("p",{className:"text-sm text-green-800",children:e.name})]}),(0,r.jsx)("button",{onClick:()=>s(null),className:"text-green-700 hover:text-green-900 font-semibold",children:"Modifier"})]}),x&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-lg text-sm mb-6",children:x}),(0,r.jsxs)("button",{onClick:p,disabled:!e||c,className:"w-full py-3 px-6 rounded-lg font-semibold flex items-center justify-center gap-2 transition ".concat(e&&!c?"bg-fire-600 text-white hover:bg-fire-700 cursor-pointer":"bg-wood-200 text-wood-400 cursor-not-allowed"),children:[(0,r.jsx)(o.Z,{size:20}),c?"T\xe9l\xe9versement en cours...":"Valider ma commande"]}),(0,r.jsx)("p",{className:"text-xs text-wood-600 mt-4 text-center",children:'En cliquant sur "Valider ma commande", vous confirmez que le re\xe7u fourni est authentique et correspond \xe0 votre transaction.'})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded",children:[(0,r.jsx)("h3",{className:"font-bold text-yellow-900 mb-3",children:"⏱️ D\xe9lai de validation"}),(0,r.jsx)("p",{className:"text-yellow-800 text-sm mb-3",children:"Une fois votre re\xe7u t\xe9l\xe9vers\xe9, notre \xe9quipe examinera votre paiement dans un d\xe9lai de 2-4 heures (jours ouvrables)."}),(0,r.jsx)("p",{className:"text-yellow-800 text-sm",children:"Vous recevrez une confirmation par email une fois votre commande valid\xe9e et en cours de pr\xe9paration."})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 sticky top-20",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-wood-900 mb-6",children:"R\xe9capitulatif commande"}),(0,r.jsxs)("div",{className:"space-y-4 pb-6 border-b border-wood-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-wood-600",children:"Montant pay\xe9"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-fire-600",children:"50,000₽"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-wood-600",children:"Statut"}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,r.jsx)("p",{className:"font-semibold text-yellow-700",children:"En attente de v\xe9rification"})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("p",{className:"text-xs text-green-900 font-semibold mb-2",children:"✓ Statut apr\xe8s v\xe9rification:"}),(0,r.jsx)("p",{className:"text-xs text-green-800",children:'Votre commande passera \xe0 "En cours de pr\xe9paration" une fois valid\xe9e.'})]})]})})]})]})})}},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},function(e){e.O(0,[451,971,117,744],function(){return e(e.s=3880)}),_N_E=e.O()}]);