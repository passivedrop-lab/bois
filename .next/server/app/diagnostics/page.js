(()=>{var e={};e.id=8353,e.ids=[8353],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},74676:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(47599),t(93428),t(35866);var r=t(23191),l=t(88716),a=t(37922),n=t.n(a),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["diagnostics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,47599)),"/home/deo/Desktop/bois/app/diagnostics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,93428)),"/home/deo/Desktop/bois/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/deo/Desktop/bois/app/diagnostics/page.tsx"],x="/diagnostics/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/diagnostics/page",pathname:"/diagnostics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5382:(e,s,t)=>{Promise.resolve().then(t.bind(t,82733))},82733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(10326),l=t(17577);function a(){let[e,s]=(0,l.useState)({loading:!0,tables:[],bucket:null,testProduct:null,error:null}),t=async()=>{try{s(e=>({...e,loading:!0})),console.log("[TEST 1] V\xe9rification des tables...");let e=await fetch("/api/admin/products"),t=await e.json();if(!e.ok)throw Error(`Tables inaccessible: ${t.error}`);console.log("[SUCCESS] Tables accessibles, produits:",t.products?.length||0),s(e=>({...e,loading:!1,tables:t.products||[]}))}catch(t){let e=t instanceof Error?t.message:String(t);console.error("[DIAGNOSTIC ERROR]",e),s(s=>({...s,loading:!1,error:e}))}};return r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"\uD83D\uDD27 Diagnostic Supabase"}),e.error&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-300 rounded-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-red-800",children:"❌ Erreur Trouv\xe9e"}),r.jsx("p",{className:"text-red-700 mt-2 font-mono",children:e.error}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-red-100 rounded text-sm text-red-900",children:[r.jsx("strong",{children:"Solution:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[(0,r.jsxs)("li",{children:["Allez dans ",r.jsx("a",{href:"https://app.supabase.com",className:"underline",children:"Supabase Console"})]}),r.jsx("li",{children:"S\xe9lectionnez votre projet"}),(0,r.jsxs)("li",{children:["Allez dans ",r.jsx("strong",{children:"SQL Editor"})]}),(0,r.jsxs)("li",{children:["Copiez le contenu de ",r.jsx("code",{className:"bg-red-200 px-1",children:"supabase-schema.sql"})]}),(0,r.jsxs)("li",{children:["Collez dans l'\xe9diteur SQL et cliquez ",r.jsx("strong",{children:"Run"})]}),(0,r.jsxs)("li",{children:["Cr\xe9ez le bucket ",r.jsx("code",{className:"bg-red-200 px-1",children:"product-images"})," en tant que Private"]}),r.jsx("li",{children:"Revenez ici et rafra\xeechissez"})]})]})]}),!e.error&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-300 rounded-lg p-6 mb-8",children:[r.jsx("h2",{className:"text-lg font-bold text-green-800",children:"✅ Configuration OK"}),r.jsx("p",{className:"text-green-700 mt-2",children:"Supabase est connect\xe9 et les tables sont accessibles."}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("p",{className:"font-semibold",children:["\uD83D\uDCCA Produits actuels: ",r.jsx("span",{className:"text-xl",children:e.tables.length})]}),e.tables.length>0&&r.jsx("ul",{className:"mt-3 space-y-2",children:e.tables.map(e=>(0,r.jsxs)("li",{className:"text-sm p-2 bg-green-100 rounded",children:[r.jsx("strong",{children:e.name})," - ",e.category," - $",e.price]},e.id))})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-lg font-bold mb-4",children:"\uD83D\uDCCB \xc9tapes de Configuration"}),(0,r.jsxs)("ol",{className:"space-y-3",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold mr-4",children:"1"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold",children:"Cr\xe9er les tables Supabase"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Ex\xe9cutez le sch\xe9ma SQL dans Supabase Console"})]})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold mr-4",children:"2"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold",children:"Cr\xe9er le bucket de stockage"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Nommez-le ",r.jsx("code",{className:"bg-gray-200 px-1",children:"product-images"})," et d\xe9finissez-le comme Private"]})]})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold mr-4",children:"3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-semibold",children:"Tester la cr\xe9ation"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm",children:["Allez \xe0 ",r.jsx("code",{className:"bg-gray-200 px-1",children:"/admin/products/new"})," et cr\xe9ez un produit"]})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex gap-4",children:[r.jsx("button",{onClick:t,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition",children:"\uD83D\uDD04 Actualiser le diagnostic"}),r.jsx("a",{href:"/admin/products/new",className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-semibold transition",children:"➕ Cr\xe9er un produit"})]})]})})}},47599:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/home/deo/Desktop/bois/app/diagnostics/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,9797,9888],()=>t(74676));module.exports=r})();